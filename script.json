[{"content":{"code":"【加锁@【机器人ID】-全局锁】\n\n## 记录发言时间\n【定义变量@发言时间@【时间戳】】\n\n## 创建群聊发言人对象：群号 - {发言人，发言时间}\n【定义常量@【机器人ID】-【当前群号】@【判空【常量@【机器人ID】-【当前群号】】@【对象】】】\n\n\n## 拿出本群的发言表\n【定义变量@发言表@【常量@【机器人ID】-【当前群号】】】\n\n\n## 发言表增加当前发言人\n【增加元素@发言表@【发送者ID】@【变量@发言时间】】\n\n\n## 记录过期发言人\n【定义变量@过期发言人@【数组】】\n【循环【变量@发言表】@【函数定义@\n\t【判真【计算@(【变量@发言时间】-【参数@2】) > 180】@@\n\t\t【增加元素@过期发言人@【参数@1】】\n\t】\n】】\n\n## 删除过期发言人\n【循环【变量@过期发言人】@【函数定义@\n\t【删除元素@发言表@【参数@2】】\n】】\n\n## 因发言导致的好感度增加\n【循环【变量@发言表】@【函数定义@\n\t【判真【计算@(【变量@发言时间】-【参数@2】) <60】@@\n\t\t【判等@【取长度【临时常量@【机器人ID】-发言冷却【发送者ID】-【参数@1】】】@0@@\n\t\t\t【好感度增加@【发送者ID】@【参数@1】@2@发言】\n\t\t\t【定义临时常量@【机器人ID】-发言冷却【发送者ID】-【参数@1】@喵喵喵@600000】\n\t\t】\n\t】\n\t【判真【计算@(【变量@发言时间】-【参数@2】) <180】@@\n\t\t【判等@【取长度【临时常量@【机器人ID】-发言冷却【发送者ID】-【参数@1】】】@0@@\n\t\t\t【好感度增加@【发送者ID】@【参数@1】@1@发言】\n\t\t\t【定义临时常量@【机器人ID】-发言冷却【发送者ID】-【参数@1】@喵喵喵@600000】\n\t\t】\n\t】\n】】\n\n## 因at导致的好感度增加\n【循环【取艾特】@【函数定义@\n\t\t【判等@【取长度【临时常量@【机器人ID】-非发言冷却【发送者ID】-【参数@2】】】@0@@\n\t\t\t【好感度增加@【发送者ID】@【参数@2】@10@AT】\n\t\t\t【定义临时常量@【机器人ID】-非发言冷却【发送者ID】-【参数@2】@喵喵喵@600000】\n\t\t】\n】】\n\n## 记录消息ID对应的发言人\n【定义临时常量@【机器人ID】-【消息ID】@【发送者ID】@3600000】\n## 因回复导致的好感度增加\n【循环【数组【取回复ID】】@【函数定义@\n\t\t【定义变量@好感对象@【临时常量【机器人ID】-【参数@2】】】\n\t\t【判断【取长度【变量@好感对象】】@0@\n\t\t\t\t【判等@【取长度【临时常量@【机器人ID】-非发言冷却【发送者ID】-【变量@好感对象】】】@0@@\n\t\t\t\t\t【好感度增加@【发送者ID】@【变量@好感对象】@10@回复】\n\t\t\t\t\t【定义临时常量@【机器人ID】-非发言冷却【发送者ID】-【变量@好感对象】@喵喵喵@600000】\n\t\t\t\t】\n\t\t】\n】】\n\n## 重新制作发言表\n【定义常量@【机器人ID】-【当前群号】@【变量@发言表】】\n\n## 处理查询\n【定义变量@当前消息@【去除两边空白【当前消息】】】\n【正则判含@【变量@当前消息】@【@^\\[CQ:at,qq=.*\\] 好感度查询$】@@\n\t【定义变量@目标ID@【取元素【取艾特】@0】】\n\t【判等【变量@目标ID】@【机器人ID】@@\n\t\t机器人是没有感情的，亲~【返回】\n\t】\n\t【判等【变量@目标ID】@【发送者ID】@@\n\t\t你疯啦！【返回】\n\t】\n\t【定义变量@好感度1@【判空【持久常量@【机器人ID】-【发送者ID】-【变量@目标ID】】@0】】\n\t【定义变量@好感度2@【判空【持久常量@【机器人ID】-【变量@目标ID】-【发送者ID】】@0】】\n\t[CQ:reply,id=【CQ码转义【消息ID】】]你对他/她的好感度为【变量@好感度1】【换行】他/她对你的好感度为【变量@好感度2】\n】\n\n","关键词":"","匹配方式":"模糊匹配","触发方式":"群聊触发"},"description":"处理群聊，匹配所有！","name":"处理群聊"},{"content":{"code":"【定义命令@好感度增加@\n\t【判等@【参数@1】@【参数@2】@\n\t\t【定义变量@好感度@【判空【持久常量@【机器人ID】-【参数@1】-【参数@2】】@0】】\n\t\t【自增@好感度@【参数@3】】\n\t\t【定义持久常量@【机器人ID】-【参数@1】-【参数@2】@【变量@好感度】】\n\t\t【打印日志@因为【参数@4】导致【参数@1】对【参数@2】好感度增加【参数@3】，当前好感度为【变量@好感度】，机器人ID为：【机器人ID】】\n\t】\n】\n","关键词":"222","匹配方式":"完全匹配","触发方式":"框架初始化"},"description":"初始化命令","name":"初始化命令"},{"content":{"code":"\n【加锁@【机器人ID】-全局锁】\n\n## 因戳一戳导致的好感度增加\n【定义变量@被戳ID@【取元素@【事件内容】@target_id】】\n【循环【数组【变量@被戳ID】】@【函数定义@\n\t\t【判等@【取长度【临时常量@【机器人ID】-非发言冷却【发送者ID】-【参数@2】】】@0@@\n\t\t\t【好感度增加@【发送者ID】@【参数@2】@10@戳一戳】\n\t\t\t【定义临时常量@【机器人ID】-非发言冷却【发送者ID】-【参数@2】@喵喵喵@600000】\n\t\t】\n】】\n\n","关键词":"notice:notify:poke","匹配方式":"完全匹配","触发方式":"事件触发"},"description":"处理戳一戳","name":"处理戳一戳"}]